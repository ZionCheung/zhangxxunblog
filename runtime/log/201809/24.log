---------------------------------------------------------------
[ 2018-09-24T11:04:21+08:00 ] 127.0.0.1 GET /
[ info ] 127.0.0.1/ [运行时间：0.073743s][吞吐率：13.56req/s] [内存消耗：2,730.16kb] [文件加载：55]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ E:\www\zhangxxunblog\application\index\controller\Index.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/index\view\home\index.html [ array (
  0 => 'cate',
  1 => 'article',
  2 => 'banner',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001708s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.006985s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_link`,`cate_belong` FROM `zx_cate` ORDER BY `cate_sort` ASC [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_banner` [ RunTime:0.007668s ]
[ sql ] [ SQL ] SELECT `banner_route`,`banner_link` FROM `zx_banner` WHERE  `cid` = 1  AND `banner_sign` = 1 ORDER BY `banner_sort` ASC [ RunTime:0.000422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.006433s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_content`,`article_time`,`article_like`,`article_click`,`cid` FROM `zx_article` WHERE  `article_sign` = 1 ORDER BY `article_time` ASC LIMIT 10 [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000357s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000390s ]
---------------------------------------------------------------
[ 2018-09-24T11:04:57+08:00 ] 127.0.0.1 GET /article/noisylife/1809124514d63b2.html
[ info ] 127.0.0.1/article/noisylife/1809124514d63b2.html [运行时间：0.080434s][吞吐率：12.43req/s] [内存消耗：2,719.46kb] [文件加载：55]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'details',
    2 => 'details',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'cate' => 'noisylife',
  'serial' => '1809124514d63b2',
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Details->details[ E:\www\zhangxxunblog\application\index\controller\Details.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/index\view\home\details.html [ array (
  0 => 'cate',
  1 => 'article',
  2 => 'tags',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001035s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.007591s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_link`,`cate_belong` FROM `zx_cate` ORDER BY `cate_sort` ASC [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.010553s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_content`,`article_author`,`article_time`,`article_like`,`article_click`,`uid`,`lid` FROM `zx_article` WHERE  `id` = 2  AND `article_serial` = '1809124514d63b' LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.008244s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000460s ]
---------------------------------------------------------------
[ 2018-09-24T11:05:11+08:00 ] 127.0.0.1 GET /zhangxxun
[ info ] 127.0.0.1/zhangxxun [运行时间：0.039234s][吞吐率：25.49req/s] [内存消耗：1,512.59kb] [文件加载：43]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-09-24T11:05:11+08:00 ] 127.0.0.1 GET /zhangxxun/login.html
[ info ] 127.0.0.1/zhangxxun/login.html [运行时间：0.024407s][吞吐率：40.97req/s] [内存消耗：1,494.35kb] [文件加载：41]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\controller\Login->login[ E:\www\zhangxxunblog\application\admin\controller\Login.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\admin\login.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-09-24T11:05:11+08:00 ] 127.0.0.1 GET /captcha.html
[ info ] 127.0.0.1/captcha.html [运行时间：0.036353s][吞吐率：27.51req/s] [内存消耗：1,266.15kb] [文件加载：33]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/login.html',
  'accept' => 'image/webp,image/apng,image/*,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ E:\www\zhangxxunblog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-09-24T11:05:18+08:00 ] 127.0.0.1 POST /loginhandle.html
[ info ] 127.0.0.1/loginhandle.html [运行时间：0.048241s][吞吐率：20.73req/s] [内存消耗：2,475.86kb] [文件加载：52]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'loginhandle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/login.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded',
  'upgrade-insecure-requests' => '1',
  'origin' => 'http://127.0.0.1',
  'cache-control' => 'max-age=0',
  'content-length' => '47',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'username' => 'zhangxxun',
  'password' => 'xxx520...',
  'code' => '7208',
)
[ info ] [ RUN ] app\admin\controller\Login->loginHandle[ E:\www\zhangxxunblog\application\admin\controller\Login.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000809s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_admin_user` [ RunTime:0.007606s ]
[ sql ] [ SQL ] SELECT * FROM `zx_admin_user` WHERE  `ad_username` = 'zhangxxun'  AND `ad_password` = '3775c147bc7c86a30db52321c21b0f7f'  AND `ad_sign` = 1 LIMIT 1 [ RunTime:0.000490s ]
---------------------------------------------------------------
[ 2018-09-24T11:05:18+08:00 ] 127.0.0.1 GET /zhangxxun.html
[ info ] 127.0.0.1/zhangxxun.html [运行时间：0.050829s][吞吐率：19.67req/s] [内存消耗：2,439.38kb] [文件加载：52]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/login.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Index->index[ E:\www\zhangxxunblog\application\admin\controller\Index.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\admin\index.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'user',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010067s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_admin_user` [ RunTime:0.006665s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000418s ]
---------------------------------------------------------------
[ 2018-09-24T11:05:18+08:00 ] 127.0.0.1 GET /zhangxxun/home.html
[ info ] 127.0.0.1/zhangxxun/home.html [运行时间：0.027990s][吞吐率：35.73req/s] [内存消耗：1,480.95kb] [文件加载：42]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'home',
    2 => 'home',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Home->home[ E:\www\zhangxxunblog\application\admin\controller\Home.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\admin\home.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'homeInfo',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-09-24T11:05:21+08:00 ] 127.0.0.1 GET /zhangxxun/addarticle.html
[ info ] 127.0.0.1/zhangxxun/addarticle.html [运行时间：0.064595s][吞吐率：15.48req/s] [内存消耗：2,514.23kb] [文件加载：53]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'addArticle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->addArticle[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\article\addarticle.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'cate',
  4 => 'tags',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010724s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.007022s ]
[ sql ] [ SQL ] SELECT `id`,`tags_title`,`tags_color` FROM `zx_tags` [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.007489s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `cate_article` = 1 [ RunTime:0.000445s ]
---------------------------------------------------------------
[ 2018-09-24T11:05:28+08:00 ] 127.0.0.1 POST /zhangxxun/articleCoverMapHandle.html
[ info ] 127.0.0.1/zhangxxun/articleCoverMapHandle.html [运行时间：0.217627s][吞吐率：4.60req/s] [内存消耗：1,631.37kb] [文件加载：44]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'articleCoverMapHandle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/addarticle.html',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryRwdPx7vzMNvoxgKy',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://127.0.0.1',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '55648',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'imgRoute' => '',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->articleCoverMapHandle[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-09-24T11:06:04+08:00 ] 127.0.0.1 POST /zhangxxun/articleNameValidation.html
[ info ] 127.0.0.1/zhangxxun/articleNameValidation.html [运行时间：0.051910s][吞吐率：19.26req/s] [内存消耗：2,453.58kb] [文件加载：51]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'articleNameValidation',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/addarticle.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://127.0.0.1',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '128',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'name' => '新版 CSDN Markdown 编辑器上线公告（Alpha 2.0）',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->articleNameValidation[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010959s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.006659s ]
[ sql ] [ SQL ] SELECT * FROM `zx_article` WHERE  `article_name` = '新版 CSDN Markdown 编辑器上线公告（Alpha 2.0）' LIMIT 1 [ RunTime:0.000435s ]
---------------------------------------------------------------
[ 2018-09-24T11:08:01+08:00 ] 127.0.0.1 POST /zhangxxun/articleNameValidation.html
[ info ] 127.0.0.1/zhangxxun/articleNameValidation.html [运行时间：0.072486s][吞吐率：13.80req/s] [内存消耗：2,453.55kb] [文件加载：51]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'articleNameValidation',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/addarticle.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://127.0.0.1',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '118',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'name' => 'mysql的查询、子查询及连接查询',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->articleNameValidation[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001091s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.013809s ]
[ sql ] [ SQL ] SELECT * FROM `zx_article` WHERE  `article_name` = 'mysql的查询、子查询及连接查询' LIMIT 1 [ RunTime:0.000591s ]
---------------------------------------------------------------
[ 2018-09-24T11:08:06+08:00 ] 127.0.0.1 POST /zhangxxun/articleNameValidation.html
[ info ] 127.0.0.1/zhangxxun/articleNameValidation.html [运行时间：0.057156s][吞吐率：17.50req/s] [内存消耗：2,453.55kb] [文件加载：51]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'articleNameValidation',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/addarticle.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://127.0.0.1',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '118',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'name' => 'mysql的查询、子查询及连接查询',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->articleNameValidation[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010572s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.011807s ]
[ sql ] [ SQL ] SELECT * FROM `zx_article` WHERE  `article_name` = 'mysql的查询、子查询及连接查询' LIMIT 1 [ RunTime:0.000449s ]
---------------------------------------------------------------
[ 2018-09-24T11:08:50+08:00 ] 127.0.0.1 POST /zhangxxun/addariclehandle.html
[ info ] 127.0.0.1/zhangxxun/addariclehandle.html [运行时间：0.052035s][吞吐率：19.22req/s] [内存消耗：3,410.86kb] [文件加载：52]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'articleAddHandle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/addarticle.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://127.0.0.1',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '169046',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'tags' => '1,2,3,4,5',
  'name' => 'mysql的查询、子查询及连接查询',
  'author' => 'ZionCheung',
  'content' => '<p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>一、mysql查询的五种子句</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">where子句（条件查询）：按照“条件表达式”指定的条件进行查询。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">group by子句（分组）：按照“属性名”指定的字段进行分组。group by子句通常和count()、sum()等聚合函数一起使用。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">having子句（筛选）：有group by才能having子句，只有满足“条件表达式”中指定的条件的才能够输出。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">order by子句（排序）：按照“属性名”指定的字段进行排序。排序方式由“asc”和“desc”两个参数指出，默认是按照“asc”来排序，即升序。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">limit（限制结果集）。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>1、where——基础查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">where常用运算符：</p><table border="1" align="left" style="margin-top: 0px; margin-bottom: 0px; border: 1px solid silver; word-break: break-word; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; width: 300px;"><tbody><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;"><strong>运算符</strong></td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;"><strong>说明</strong></td></tr><tr><td colspan="2" align="left" style="padding: 3px; border-color: silver; border-collapse: collapse; background-color: rgb(6, 248, 228);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 比较运算符</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">&lt;</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">小于</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">&lt;=</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">小于或等于</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">=</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">等于</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">!= 或 &lt;&gt;</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">不等于</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">&gt;=</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">大于等于</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">&gt;</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">大于</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">in</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">在某集合内</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">between</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">在某范围内</td></tr><tr><td colspan="2" align="left" style="padding: 3px; border-color: silver; border-collapse: collapse; background-color: rgb(146, 11, 243);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 逻辑运算符</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">not 或 !</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">逻辑非</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">or 或 ||</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">逻辑或</td></tr><tr><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">and 或 &amp;&amp;</td><td align="middle" style="padding: 3px; border-color: silver; border-collapse: collapse;">逻辑与</td></tr></tbody></table><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2、group by 分组</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">“Group By”从字面意义上理解就是根据“By”指定的规则对数据进行分组，所谓的分组就是将一个“数据集”划分成若干个“小区域”，然后针对若干个“小区域”进行数据处理。</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> 类别, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">sum</span>(数量) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> 数量之和</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> A</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">group</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">by</span> 类别</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">注：group by语句中select指定的字段必须是“分组依据字段”，其他字段若想出现在select中则必须包含在聚合函数中。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">mysql中五种常用的聚合函数：</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（1）max(列名)：求最大值。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（2）min(列名)：求最小值。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（2）sum(列名)：求和。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（4）avg(列名)：求平均值。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（5）count(列名)：统计记录的条数。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>3、having</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">having子句可以让我们筛选成组后的各种数据，where子句在聚合前先筛选记录，也就是说作用在group by和having子句前。而 having子句在聚合后对组记录进行筛选。&nbsp;</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">示例：</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> 类别, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">sum</span>(数量) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> 数量之和 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> A</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">group</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">by</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> 类别</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">having</span> <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">sum</span>(数量) <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">18</span></pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">示例：Having和Where的联合使用方法</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> 类别, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SUM</span>(数量)<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> A</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">where</span> 数量 <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span><span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">8</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">group</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">by</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> 类别</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">having</span> <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SUM</span>(数量) <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span><span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">10</span></pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>where和having的区别：</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">作用的对象不同。WHERE 子句作用于表和视图，HAVING 子句作用于组。</span><br/><span style="background-color: rgb(255, 255, 0);">WHERE 在分组和聚集计算之前选取输入行（因此，它控制哪些行进入聚集计算）， 而 HAVING 在分组和聚集之后选取分组的行。因此，WHERE 子句不能包含聚集函数；</span>&nbsp;因为试图用聚集函数判断那些行输入给聚集运算是没有意义的。 相反，<span style="background-color: rgb(255, 255, 0);">HAVING 子句总是包含聚集函数</span>。（严格说来，你可以写不使用聚集的 HAVING 子句， 但这样做只是白费劲。同样的条件可以更有效地用于 WHERE 阶段。）<br/>在上面的例子中，我们可以在 WHERE 里应用数量字段来限制，因为它不需要聚集。 这样比在 HAVING 里增加限制更加高效，因为我们避免了为那些未通过 WHERE 检查的行进行分组和聚集计算。<br/><strong>综上所述：</strong><br/><span style="background-color: rgb(255, 255, 0);">having一般跟在group by之后，执行记录组选择的一部分来工作的。where则是执行所有数据来工作的。</span><br/>再者having可以用聚合函数，如having sum(qty)&gt;1000</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>例子：where + group by + having + 函数 综合查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">练习表：</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><img src="https://images2015.cnblogs.com/blog/249993/201705/249993-20170502142829242-1453972122.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>查询出两门及两门以上不及格者的平均成绩(注意是所有科目的平均成绩)</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">错误情况1：题意理解错误，理解成查出不及格科目的平均成绩。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2015.cnblogs.com/blog/249993/201705/249993-20170502151849820-2083979696.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">错误情况2：count()不正确，SQL错误。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2015.cnblogs.com/blog/249993/201705/249993-20170502154446914-592825065.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><span style="color: rgb(255, 0, 0);">count(a),无论a是什么，都只是数一行；count时，每遇到一行，就数一个a，跟条件无关！</span></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><span style="color: rgb(255, 0, 0);">正解：</span></strong><span style="color: rgb(255, 0, 0);"><span style="color: rgb(0, 0, 0);">count(score&lt;60)达不到想要的结果，并不是条件的问题，而是无论count()里的表达式是什么都会数一行。</span></span><span style="font-size: 15px;">score&lt;60 返回 1 或 0；所以可以用sum(score&lt;60)来计算不及格的科目数！</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="font-size: 15px;"><img src="https://images2015.cnblogs.com/blog/249993/201705/249993-20170502155008148-2001739637.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>4、order by 排序</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（1）order by price&nbsp; //默认升序排列<br/>（2）order by price desc //降序排列<br/>（3）order by price asc //升序排列，与默认一样<br/>（4）order by rand() //随机排列，效率不高</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>5、limit</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">limit [offset,] N<br/>offset 偏移量，可选，不写则相当于limit 0,N<br/>N&nbsp; 取出条目</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">示例：取价格第4-6高的商品</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> good_id,goods_name,goods_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">order</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">by</span> good_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">desc</span> limit <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">3</span>,<span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">3</span>;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>总结：</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>select子句顺序</strong></p><div align="center" style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><table border="1" cellspacing="0" cellpadding="0" align="left" style="margin-top: 0px; margin-bottom: 0px; border: 1px solid silver; word-break: break-word;"><tbody><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;"><strong>子句</strong></p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;"><strong>说明</strong></p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;"><strong>是否必须使用</strong></p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">select</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">要返回的列或表示式</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">是</p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">form</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">从中检索数据的表</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">仅在从表选择数据时使用</p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">where</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">行级过滤</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">否</p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">group by</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">分组说明</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">仅在按组计算聚集时使用</p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">having</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">组级过滤</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">否</p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">order by</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">输出排序顺序</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">否</p></td></tr><tr><td valign="top" width="91" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">limit</p></td><td valign="top" width="142" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">要检索的行数</p></td><td valign="top" width="194" style="padding: 3px; border-color: silver; border-collapse: collapse;"><p align="center" style="margin: 10px auto;">否</p></td></tr></tbody></table></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>二、mysql子查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>1、where型子查询</strong><strong><strong>（把内层查询结果当作外层查询的比较条件）</strong></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（1）查询id最大的一件商品(使用排序+分页实现)</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_id,goods_name,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> goods_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span> LIMIT <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">1</span>;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（2）查询id最大的一件商品(使用where子查询实现)</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_id,goods_name,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> goods_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">MAX</span>(goods_id) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（3）查询每个类别下id最大的商品(使用where子查询实现)</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_id,goods_name,cat_id,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> goods_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">IN</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">MAX</span>(goods_id) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">GROUP</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> cat_id);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2、from型子查询(把内层的查询结果当成临时表，供外层sql再次查询。查询结果集可以当成表看待。临时表要使用一个别名。)</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（1）查询每个类别下id最大的商品(使用from型子查询)</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_id,goods_name,cat_id,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">(</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_id,goods_name,cat_id,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ASC</span>,goods_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span>) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> tmp</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">GROUP</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> cat_id;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">子查询查出的结果集看第二张图，可以看到每个类别的第一条的商品id都为该类别下的最大值。然后将这个结果集作为一张临时表，巧妙的使用group by 查询出每个类别下的第一条记录，即为每个类别下商品id最大。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170426162822115-291829502.png" alt="" width="905" height="325" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;<img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170426162539944-38014619.png" alt="" width="886" height="457" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>3、exists型子查询（把外层sql的结果，拿到内层sql去测试，如果内层的sql成立，则该行取出。内层查询是exists后的查询。）</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（1）从类别表中取出其类别下有商品的类别(如果该类别下没有商品，则不取出)[使用where子查询]</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> c.cat_id,c.cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> category c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> c.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">IN</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods g <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">GROUP</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> g.cat_id);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">（2）从类别表中取出其类别下有商品的类别(如果该类别下没有商品，则不取出)[使用exists子查询]</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> c.cat_id,c.cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> category c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">EXISTS</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">1</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods g <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">exists子查询，如果exists后的内层查询能查出数据，则表示存在；为空则不存在。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170426164845115-670813604.png" alt="" width="833" height="242" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>三、连接查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">学习连接查询，先了解下&quot;笛卡尔积&quot;，看下百度给出的解释：</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828143203499-154521387.png" alt="" width="845" height="164" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在数据库中，一张表就是一个集合，每一行就是集合中的一个元素。表之间作联合查询即是作笛卡尔乘积，比如A表有5条数据，B表有8条数据，如果不作条件筛选，那么两表查询就有 5 X 8 = 40 条数据。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">先看下用到的测试表基本信息：我们要实现的功能就是查询商品的时候，从类别表将商品类别名称关联查询出来。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">行数：类别表14条，商品表4条。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828143439030-213553806.png" alt="" width="405" height="316" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">结构：商品表和类别表都有一个cat_id</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828143601030-1069833115.png" alt="" width="798" height="556" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>1、全相乘(不是全连接、连接查询)，全相乘是作笛卡尔积</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">两表全相乘，就是直接从两张表里查询；从查询的截图看出，总共查出了 4 X 14 = 56 条记录，这些记录是笛卡尔乘积的结果，即两两组合；</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">但我们要的是每个商品信息显示类别名称而已，这里却查出了56条记录，其中有52条记录都是无效的数据，<strong><span style="color: rgb(255, 0, 0);">全相乘的查询效率低</span></strong>。</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_id,goods_name,cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods,category;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828144339780-1336766602.png" alt="" width="852" height="1176" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">如果在两张表里有相同字段，做联合查询的时候，要区别表名，否则会报错误(模糊不清)。</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_name,cat_id,cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods,category;　</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828144958358-961572127.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 添加条件，使两表关联查询，这样查出来就是商品和类别一一对应了。虽然这里查出来4条记录，但是<span style="color: rgb(255, 0, 0);">全相乘效率低，全相乘会在内存中生成一个非常大的数据(临时表)，因为有很多不必要的数据。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">　&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 0, 0);">如果一张表有10000条数据，另一张表有10000条数据，两表全相乘就是100W条数据，是非常消耗内存的。<span style="color: rgb(51, 102, 255);">而且，全相乘不能好好的利用索引，因为全相乘生成一张临时表，临时表里是没有索引的，大大降低了查询效率。</span></span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> g_cat_id, c.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> c_cat_id, c.cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods g, category c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828145157233-1841096905.png" alt="" width="986" height="188" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2、左连接查询 left join ... on ...</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>语法：</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> A.filed, <span style="color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">[</span><span style="color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">A.filed2, .... ,</span><span style="color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">]</span> B.filed, <span style="color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">[</span><span style="color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">B.filed4...,</span><span style="color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">]</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;left</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> A  <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">left</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;right</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> B <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;</span>expression<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">假设有A、B两张表，<span style="background-color: rgb(255, 255, 0);">左连接查询即 A表在左不动，B表在右滑动，A表与B表通过一个关系来关联行，B表去匹配A表。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2.1、先来看看on后的条件恒为真的情况</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id, c.cat_id ,c.cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods g <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">LEFT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">JOIN</span> category c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ON</span> <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">1</span>;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;&nbsp;&nbsp;&nbsp; 跟全相乘相比，从截图可以看出，总记录数仍然不变，还是 4 X 14 = 56 条记录。但这次是商品表不动，类别表去匹配，因为每次都为真，所以将所有的记录都查出来了。<span style="color: rgb(255, 0, 0);">左连接，其实就可以看成左表是主表，右表是从表。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="color: rgb(255, 0, 0);"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828145733577-528086282.png" alt="" width="864" height="1165" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2.2 、根据cat_id使两表关联行</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id,c.cat_id,c.cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods g <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">LEFT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">JOIN</span> category c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ON</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">使用左连接查询达到了同样的效果，但是不会有其它冗余数据，<span style="color: rgb(255, 0, 0);">查询速度快，消耗内存小，而且使用了索引。左连接查询效率相比于全相乘的查询效率快了10+倍以上。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">　　左连接时，mingoods表(左表)不动，category表(右表)根据条件去一条条匹配，虽说category表也是读取一行行记录，然后判断cat_id是否跟mingoods表的相同，但是，左连接使用了索引，cat_id建立了索引的话，查询速度非常快，所以整体效率相比于全相乘要快得多，全相乘没有使用索引。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170828151046421-1808099947.png" alt="" width="898" height="163" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2.3、查询出第四个类别下的商品，要求显示商品名称</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id,c.cat_name,g.shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods g <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">LEFT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">JOIN</span> category c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ON</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">4</span>;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831143124280-1259419416.png" alt="" width="964" height="163" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2.4 、对于左连接查询，如果右表中没有满足条件的行，则默认填充NULL。</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> g_cat_id, c.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> c_cat_id,c.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods g <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">LEFT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">JOIN</span> mincategory c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ON</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831143343452-700106947.png" alt="" width="997" height="174" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>3、右连接查询 right join ... on ...</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>语法：</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> A.field1,A.field2,..., B.field3,B.field4  <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;left</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> A <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">right</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;right</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> B <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;</span>expression<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">右连接查询跟左连接查询类似，只是<span style="background-color: rgb(255, 255, 0);">右连接是以右表为主表，会将右表所有数据查询出来，而左表则根据条件去匹配，如果左表没有满足条件的行，则左边默认显示NULL。</span>左右连接是可以互换的。</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> g_cat_id,  c.cat_id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> c_cat_id,c.cat_name <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> mingoods g <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">RIGHT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">JOIN</span> mincategory c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ON</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831143920452-1217908904.png" alt="" width="1003" height="217" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>4、内连接查询 inner join ... on ...</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>语法：</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> A.field1,A.field2,.., B.field3, B.field4 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;left</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> A <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">inner</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;right</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> B <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;</span>expression<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">内连接查询，就是取左连接和右连接的交集，如果两边不能匹配条件，则都不取出。</span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> g.goods_name,g.cat_id, c.<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">*</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> mingoods g <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">INNER</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">JOIN</span> mincategory c <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ON</span> g.cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> c.cat_id;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831144413312-798629863.png" alt="" width="947" height="192" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>5、全连接查询 full join ... on ...</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>语法：</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> ... <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;left</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">full</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;right</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">table</span><span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;</span>expression<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span></pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">全连接会将两个表的所有数据查询出来，不满足条件的为NULL。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">全连接查询跟全相乘查询的区别在于，如果某个项不匹配，全相乘不会查出来，全连接会查出来，而连接的另一边则为NULL。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>6、联合查询 union</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>语法：</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> A.field1 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> f1, A.field2 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> f2 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;</span>table1<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> A <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">union</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> B.field3 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> f1, field4 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">as</span> f2 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&lt;</span>table2<span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">&gt;</span> B)</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">union是求两个查询的并集。union合并的是结果集，不区分来自于哪一张表，所以可以合并多张表查询出来的数据。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831144847702-892544721.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>6.1、将两张表的数据合并查询出来</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id, content, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> comment <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id, msg <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">AS</span> content, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> feedback);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145021812-1747065217.png" alt="" width="855" height="238" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>6.2、union查询，列名不一致时，以第一条sql语句的列名对齐</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id, content, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> comment <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id, msg, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> feedback);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145148202-1865204275.png" alt="" width="809" height="231" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);"><strong>6.3、使用union查询会将重复的行过滤掉</strong></span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> content,<span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> comment <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> msg, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> feedback);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145358452-630940644.png" alt="" width="796" height="631" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><span style="background-color: rgb(255, 255, 0);">6.4、使用union all查询所有，重复的行不会被过滤</span></strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> content,<span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> comment <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ALL</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> msg, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> feedback);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145548483-1527047748.png" alt="" width="730" height="213" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>6.5、union查询，如果列数不相等，会报列数不相等错误</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145717577-1648968.png" alt="" width="873" height="97" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>6.6、union 后的结果集还可以再做筛选</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id,content,<span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> comment <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ALL</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id, msg, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> feedback) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span>; </pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145827374-2070389214.png" alt="" width="876" height="231" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="color: rgb(255, 0, 0);">&nbsp; &nbsp; &nbsp; union查询时，order by放在内层sql中是不起作用的；因为union查出来的结果集再排序，内层的排序就没有意义了；因此，内层的order by排序，在执行期间，被mysql的代码分析器给优化掉了。</span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id,content,<span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> comment <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span>) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ALL</span> (<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> id, msg, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">user</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> feedback <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> id <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span>);</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831150305593-704163301.png" alt="" width="944" height="216" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="color: rgb(255, 0, 0);">order by 如果和limit一起使用，就显得有意义了，就不会被优化掉。</span></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;">( <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_name,cat_id,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">3</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span> LIMIT <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">3</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;"> )</span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span><span style="font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">( </span><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> goods_name,cat_id,shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> goods <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">WHERE</span> cat_id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">4</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ORDER</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> shop_price <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">DESC</span> LIMIT <span style="color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">2</span> );</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831150514608-1713686275.png" alt="" width="891" height="229" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;<strong>6.7、练习</strong></p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> name, <span style="color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SUM</span>(<span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">money</span>) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> ( ( <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">*</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> A ) <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">UNION</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">ALL</span> ( <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">SELECT</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">*</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">FROM</span> B ) ) tmp <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">GROUP</span> <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">BY</span> name;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831150955546-637848976.png" alt="" width="623" height="400" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2017.cnblogs.com/blog/249993/201708/249993-20170831151008749-703743588.png" alt="" width="948" height="162" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>连接查询总结：</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">1、在数据库中，一张表就是一个集合，每一行就是集合中的一个元素。连接查询即是作笛卡尔积，比如A表有1W条数据，B表有1W条数据，那么两表查询就有 1W X 1W = 100W 条数据　</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">2、如果在两张表里有相同字段，做联合查询的时候，要区别表名，否则会报错误(ambiguous 模糊不清)</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">3、全相乘效率低，全相乘会在内存中生成一个非常大的数据(临时表)，因为有很多不必要的数据。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;如果一张表有10000条数据，另一张表有10000条数据，两表全相乘就是100W条数据，是非常消耗内存的。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">而且，全相乘不能好好的利用索引，因为全相乘生成一张临时表，临时表里是没有索引的，大大降低了查询效率。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">4、左连接查询时，以左表为主表，会将左表所有数据查询出来；左表不动，右表根据条件去一条条匹配，如果没有满足条件的记录，则右边返回NULL。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">右连接查询值，以右表为主表，会将右表所有数据查询出来，右表不动，左表则根据条件去匹配，如果左表没有满足条件的行，则左边返回NULL。　</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">左右连接是可以互换的：A left join B &nbsp;== &nbsp;B right join A (都是以A为主表) 。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">左右连接既然可以互换，出于移植兼容性方面的考虑，尽量使用左连接。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">5、连接查询时，虽说也是读取一行行记录，然后判断是否满足条件，但是，连接查询使用了索引，条件列建立了索引的话，查询速度非常快，所以整体效率相比于全相乘要快得多，全相乘是没有使用索引的。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">使用连接查询，查询速度快，消耗内存小，而且使用了索引。连接查询效率相比于全相乘的查询效率快了10+倍以上。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">6、内连接查询，就是取左连接和右连接的<strong>交集</strong>，如果两边不能匹配条件，则都不取出。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">7、MySql可以用union(联合查询)来查出左连接和右连接的<strong>并集</strong>。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">union查询会过滤重复的行，union all 不会过滤重复的行。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">union查询时，union之间的sql列数必须相等，列名以第一条sql的列为准；列类型可以不一样，但没太大意义。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">union查询时，order by放在内层sql中是不起作用的；因为union查出来的结果集再排序，内层的排序就没有意义了；因此，内层的order by排序，在执行期间，被mysql的代码分析器给优化掉了。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">&nbsp;但是，order by 如果和limit一起使用，就显得有意义了，会影响最终结果集，就不会被优化掉。order by会根据最终是否会影响结果集而选择性的优化。</p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">注：union和union all的区别，union会去掉重复的记录，在结果集合并后悔对新产生的结果集进行排序运算，效率稍低，union all直接合并结果集，如果确定没有重复记录，建议使用union all。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">8、 LEFT JOIN 是 LEFT OUTER JOIN 的缩写，同理，RIGHT JOIN 是 RIGHT OUTER JOIN 的缩写；JOIN 是 INNER JOIN 的缩写。</p><hr style="margin-top: 0px; margin-bottom: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"/><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>关联查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>1、使用join关键字关联查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>（1）、内连接（inner join）</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">连接两张表，连接条件使用on关键字，内连接只会显示匹配的数据记录。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">eg:查询学生姓名、科目、分数</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> student a <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">inner</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> score b <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> a.id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> b.sid;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170427161630615-917070098.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>（2）、左连接（left join）</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">返回左表中所有记录以及右表中符合连接条件的所有记录。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">eg:&nbsp;使用左连接查询学生姓名、科目、分数</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> student a <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">left</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> score b <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> a.id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> b.sid;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong><img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170427161656506-1882092639.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>（3）、右连接（right join）</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">返回右表中所有记录以及左表中符合连接条件的所有记录。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">eg:使用右连接查询学生姓名、科目、分数</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> student a <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">right</span> <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">join</span> score b <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">on</span> a.id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> b.sid;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170427161921381-1712894885.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><span style="background-color: rgb(255, 255, 0);">注：内外连接区别：内连接只会显示匹配的数据记录，外连接例如左连接会把左边表中所有记录显示出来，即使在右边表中没有匹配记录也会显示左表的数据，右连接反之。</span></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><strong>2、使用表和表之间相同id关联查询</strong></p><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;">这种关联方式和内连接一样，只会显示出匹配的数据</p><div class="cnblogs_code" style="margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><pre style="font-family: &quot;Courier New&quot; !important;"><span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">from</span> student a,score b <span style="color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">where</span> a.id <span style="color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;">=</span> b.sid;</pre></div><p style="margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;"><img src="https://images2015.cnblogs.com/blog/249993/201704/249993-20170427164201553-439031078.png" alt="" style="border-width: 0px; border-style: initial; max-width: 820px; height: auto;"/></p><p><br/></p>',
  'cate' => '7',
  'imgRoute' => '/static/upload/article/original/20180924\\2cd607fa1f1139db1012985b63a301a4.jpg',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->articleAddHandle[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000806s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.007083s ]
[ sql ] [ SQL ] SELECT `id` FROM `zx_article` WHERE  `article_serial` = '18091108179c3e' LIMIT 1 [ RunTime:0.000691s ]
[ sql ] [ SQL ] INSERT INTO `zx_article` (`article_serial` , `article_name` , `article_cover` , `article_content` , `article_author` , `article_time` , `uid` , `cid` , `lid`) VALUES ('18091108179c3e' , 'mysql的查询、子查询及连接查询' , '20180924\\2cd607fa1f1139db1012985b63a301a4.jpg' , '<p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>一、mysql查询的五种子句</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">where子句（条件查询）：按照“条件表达式”指定的条件进行查询。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">group by子句（分组）：按照“属性名”指定的字段进行分组。group by子句通常和count()、sum()等聚合函数一起使用。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">having子句（筛选）：有group by才能having子句，只有满足“条件表达式”中指定的条件的才能够输出。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">order by子句（排序）：按照“属性名”指定的字段进行排序。排序方式由“asc”和“desc”两个参数指出，默认是按照“asc”来排序，即升序。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">limit（限制结果集）。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>1、where——基础查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">where常用运算符：</p><table border=\"1\" align=\"left\" style=\"margin-top: 0px; margin-bottom: 0px; border: 1px solid silver; word-break: break-word; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; width: 300px;\"><tbody><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><strong>运算符</strong></td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><strong>说明</strong></td></tr><tr><td colspan=\"2\" align=\"left\" style=\"padding: 3px; border-color: silver; border-collapse: collapse; background-color: rgb(6, 248, 228);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 比较运算符</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">&lt;</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">小于</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">&lt;=</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">小于或等于</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">=</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">等于</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">!= 或 &lt;&gt;</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">不等于</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">&gt;=</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">大于等于</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">&gt;</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">大于</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">in</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">在某集合内</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">between</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">在某范围内</td></tr><tr><td colspan=\"2\" align=\"left\" style=\"padding: 3px; border-color: silver; border-collapse: collapse; background-color: rgb(146, 11, 243);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 逻辑运算符</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">not 或 !</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">逻辑非</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">or 或 ||</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">逻辑或</td></tr><tr><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">and 或 &amp;&amp;</td><td align=\"middle\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\">逻辑与</td></tr></tbody></table><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2、group by 分组</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">“Group By”从字面意义上理解就是根据“By”指定的规则对数据进行分组，所谓的分组就是将一个“数据集”划分成若干个“小区域”，然后针对若干个“小区域”进行数据处理。</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> 类别, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">sum</span>(数量) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> 数量之和</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> A</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">group</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">by</span> 类别</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">注：group by语句中select指定的字段必须是“分组依据字段”，其他字段若想出现在select中则必须包含在聚合函数中。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">mysql中五种常用的聚合函数：</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（1）max(列名)：求最大值。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（2）min(列名)：求最小值。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（2）sum(列名)：求和。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（4）avg(列名)：求平均值。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（5）count(列名)：统计记录的条数。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>3、having</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">having子句可以让我们筛选成组后的各种数据，where子句在聚合前先筛选记录，也就是说作用在group by和having子句前。而 having子句在聚合后对组记录进行筛选。&nbsp;</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">示例：</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> 类别, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">sum</span>(数量) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> 数量之和 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> A</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">group</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">by</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> 类别</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">having</span> <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">sum</span>(数量) <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">18</span></pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">示例：Having和Where的联合使用方法</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> 类别, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SUM</span>(数量)<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> A</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">where</span> 数量 <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span><span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">8</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">group</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">by</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> 类别</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">having</span> <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SUM</span>(数量) <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span><span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">10</span></pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>where和having的区别：</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">作用的对象不同。WHERE 子句作用于表和视图，HAVING 子句作用于组。</span><br/><span style=\"background-color: rgb(255, 255, 0);\">WHERE 在分组和聚集计算之前选取输入行（因此，它控制哪些行进入聚集计算）， 而 HAVING 在分组和聚集之后选取分组的行。因此，WHERE 子句不能包含聚集函数；</span>&nbsp;因为试图用聚集函数判断那些行输入给聚集运算是没有意义的。 相反，<span style=\"background-color: rgb(255, 255, 0);\">HAVING 子句总是包含聚集函数</span>。（严格说来，你可以写不使用聚集的 HAVING 子句， 但这样做只是白费劲。同样的条件可以更有效地用于 WHERE 阶段。）<br/>在上面的例子中，我们可以在 WHERE 里应用数量字段来限制，因为它不需要聚集。 这样比在 HAVING 里增加限制更加高效，因为我们避免了为那些未通过 WHERE 检查的行进行分组和聚集计算。<br/><strong>综上所述：</strong><br/><span style=\"background-color: rgb(255, 255, 0);\">having一般跟在group by之后，执行记录组选择的一部分来工作的。where则是执行所有数据来工作的。</span><br/>再者having可以用聚合函数，如having sum(qty)&gt;1000</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>例子：where + group by + having + 函数 综合查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">练习表：</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><img src=\"https://images2015.cnblogs.com/blog/249993/201705/249993-20170502142829242-1453972122.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>查询出两门及两门以上不及格者的平均成绩(注意是所有科目的平均成绩)</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">错误情况1：题意理解错误，理解成查出不及格科目的平均成绩。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201705/249993-20170502151849820-2083979696.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">错误情况2：count()不正确，SQL错误。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201705/249993-20170502154446914-592825065.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><span style=\"color: rgb(255, 0, 0);\">count(a),无论a是什么，都只是数一行；count时，每遇到一行，就数一个a，跟条件无关！</span></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><span style=\"color: rgb(255, 0, 0);\">正解：</span></strong><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\">count(score&lt;60)达不到想要的结果，并不是条件的问题，而是无论count()里的表达式是什么都会数一行。</span></span><span style=\"font-size: 15px;\">score&lt;60 返回 1 或 0；所以可以用sum(score&lt;60)来计算不及格的科目数！</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"font-size: 15px;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201705/249993-20170502155008148-2001739637.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>4、order by 排序</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（1）order by price&nbsp; //默认升序排列<br/>（2）order by price desc //降序排列<br/>（3）order by price asc //升序排列，与默认一样<br/>（4）order by rand() //随机排列，效率不高</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>5、limit</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">limit [offset,] N<br/>offset 偏移量，可选，不写则相当于limit 0,N<br/>N&nbsp; 取出条目</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">示例：取价格第4-6高的商品</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> good_id,goods_name,goods_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">order</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">by</span> good_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">desc</span> limit <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">3</span>,<span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">3</span>;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>总结：</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>select子句顺序</strong></p><div align=\"center\" style=\"font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" align=\"left\" style=\"margin-top: 0px; margin-bottom: 0px; border: 1px solid silver; word-break: break-word;\"><tbody><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\"><strong>子句</strong></p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\"><strong>说明</strong></p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\"><strong>是否必须使用</strong></p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">select</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">要返回的列或表示式</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">是</p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">form</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">从中检索数据的表</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">仅在从表选择数据时使用</p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">where</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">行级过滤</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">否</p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">group by</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">分组说明</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">仅在按组计算聚集时使用</p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">having</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">组级过滤</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">否</p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">order by</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">输出排序顺序</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">否</p></td></tr><tr><td valign=\"top\" width=\"91\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">limit</p></td><td valign=\"top\" width=\"142\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">要检索的行数</p></td><td valign=\"top\" width=\"194\" style=\"padding: 3px; border-color: silver; border-collapse: collapse;\"><p align=\"center\" style=\"margin: 10px auto;\">否</p></td></tr></tbody></table></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>二、mysql子查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>1、where型子查询</strong><strong><strong>（把内层查询结果当作外层查询的比较条件）</strong></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（1）查询id最大的一件商品(使用排序+分页实现)</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_id,goods_name,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> goods_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span> LIMIT <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">1</span>;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（2）查询id最大的一件商品(使用where子查询实现)</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_id,goods_name,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> goods_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">MAX</span>(goods_id) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（3）查询每个类别下id最大的商品(使用where子查询实现)</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_id,goods_name,cat_id,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> goods_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">IN</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">MAX</span>(goods_id) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">GROUP</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> cat_id);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2、from型子查询(把内层的查询结果当成临时表，供外层sql再次查询。查询结果集可以当成表看待。临时表要使用一个别名。)</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（1）查询每个类别下id最大的商品(使用from型子查询)</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_id,goods_name,cat_id,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">(</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_id,goods_name,cat_id,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ASC</span>,goods_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span>) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> tmp</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">GROUP</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> cat_id;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">子查询查出的结果集看第二张图，可以看到每个类别的第一条的商品id都为该类别下的最大值。然后将这个结果集作为一张临时表，巧妙的使用group by 查询出每个类别下的第一条记录，即为每个类别下商品id最大。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170426162822115-291829502.png\" alt=\"\" width=\"905\" height=\"325\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;<img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170426162539944-38014619.png\" alt=\"\" width=\"886\" height=\"457\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>3、exists型子查询（把外层sql的结果，拿到内层sql去测试，如果内层的sql成立，则该行取出。内层查询是exists后的查询。）</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（1）从类别表中取出其类别下有商品的类别(如果该类别下没有商品，则不取出)[使用where子查询]</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> c.cat_id,c.cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> category c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> c.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">IN</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods g <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">GROUP</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> g.cat_id);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">（2）从类别表中取出其类别下有商品的类别(如果该类别下没有商品，则不取出)[使用exists子查询]</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> c.cat_id,c.cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> category c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">EXISTS</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">1</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods g <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">exists子查询，如果exists后的内层查询能查出数据，则表示存在；为空则不存在。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170426164845115-670813604.png\" alt=\"\" width=\"833\" height=\"242\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>三、连接查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">学习连接查询，先了解下&quot;笛卡尔积&quot;，看下百度给出的解释：</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828143203499-154521387.png\" alt=\"\" width=\"845\" height=\"164\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在数据库中，一张表就是一个集合，每一行就是集合中的一个元素。表之间作联合查询即是作笛卡尔乘积，比如A表有5条数据，B表有8条数据，如果不作条件筛选，那么两表查询就有 5 X 8 = 40 条数据。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">先看下用到的测试表基本信息：我们要实现的功能就是查询商品的时候，从类别表将商品类别名称关联查询出来。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">行数：类别表14条，商品表4条。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828143439030-213553806.png\" alt=\"\" width=\"405\" height=\"316\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">结构：商品表和类别表都有一个cat_id</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828143601030-1069833115.png\" alt=\"\" width=\"798\" height=\"556\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>1、全相乘(不是全连接、连接查询)，全相乘是作笛卡尔积</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">两表全相乘，就是直接从两张表里查询；从查询的截图看出，总共查出了 4 X 14 = 56 条记录，这些记录是笛卡尔乘积的结果，即两两组合；</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">但我们要的是每个商品信息显示类别名称而已，这里却查出了56条记录，其中有52条记录都是无效的数据，<strong><span style=\"color: rgb(255, 0, 0);\">全相乘的查询效率低</span></strong>。</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_id,goods_name,cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods,category;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828144339780-1336766602.png\" alt=\"\" width=\"852\" height=\"1176\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">如果在两张表里有相同字段，做联合查询的时候，要区别表名，否则会报错误(模糊不清)。</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_name,cat_id,cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods,category;　</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828144958358-961572127.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 添加条件，使两表关联查询，这样查出来就是商品和类别一一对应了。虽然这里查出来4条记录，但是<span style=\"color: rgb(255, 0, 0);\">全相乘效率低，全相乘会在内存中生成一个非常大的数据(临时表)，因为有很多不必要的数据。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">　&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(255, 0, 0);\">如果一张表有10000条数据，另一张表有10000条数据，两表全相乘就是100W条数据，是非常消耗内存的。<span style=\"color: rgb(51, 102, 255);\">而且，全相乘不能好好的利用索引，因为全相乘生成一张临时表，临时表里是没有索引的，大大降低了查询效率。</span></span></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> g_cat_id, c.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> c_cat_id, c.cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods g, category c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828145157233-1841096905.png\" alt=\"\" width=\"986\" height=\"188\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2、左连接查询 left join ... on ...</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>语法：</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> A.filed, <span style=\"color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">[</span><span style=\"color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">A.filed2, .... ,</span><span style=\"color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">]</span> B.filed, <span style=\"color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">[</span><span style=\"color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">B.filed4...,</span><span style=\"color: rgb(255, 0, 0); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">]</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;left</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> A  <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">left</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;right</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> B <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;</span>expression<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span></pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">假设有A、B两张表，<span style=\"background-color: rgb(255, 255, 0);\">左连接查询即 A表在左不动，B表在右滑动，A表与B表通过一个关系来关联行，B表去匹配A表。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2.1、先来看看on后的条件恒为真的情况</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id, c.cat_id ,c.cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods g <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">LEFT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">JOIN</span> category c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ON</span> <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">1</span>;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp; 跟全相乘相比，从截图可以看出，总记录数仍然不变，还是 4 X 14 = 56 条记录。但这次是商品表不动，类别表去匹配，因为每次都为真，所以将所有的记录都查出来了。<span style=\"color: rgb(255, 0, 0);\">左连接，其实就可以看成左表是主表，右表是从表。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(255, 0, 0);\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828145733577-528086282.png\" alt=\"\" width=\"864\" height=\"1165\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2.2 、根据cat_id使两表关联行</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id,c.cat_id,c.cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods g <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">LEFT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">JOIN</span> category c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ON</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">使用左连接查询达到了同样的效果，但是不会有其它冗余数据，<span style=\"color: rgb(255, 0, 0);\">查询速度快，消耗内存小，而且使用了索引。左连接查询效率相比于全相乘的查询效率快了10+倍以上。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">　　左连接时，mingoods表(左表)不动，category表(右表)根据条件去一条条匹配，虽说category表也是读取一行行记录，然后判断cat_id是否跟mingoods表的相同，但是，左连接使用了索引，cat_id建立了索引的话，查询速度非常快，所以整体效率相比于全相乘要快得多，全相乘没有使用索引。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170828151046421-1808099947.png\" alt=\"\" width=\"898\" height=\"163\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2.3、查询出第四个类别下的商品，要求显示商品名称</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id,c.cat_name,g.shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods g <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">LEFT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">JOIN</span> category c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ON</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">4</span>;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831143124280-1259419416.png\" alt=\"\" width=\"964\" height=\"163\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2.4 、对于左连接查询，如果右表中没有满足条件的行，则默认填充NULL。</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> g_cat_id, c.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> c_cat_id,c.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods g <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">LEFT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">JOIN</span> mincategory c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ON</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831143343452-700106947.png\" alt=\"\" width=\"997\" height=\"174\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>3、右连接查询 right join ... on ...</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>语法：</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> A.field1,A.field2,..., B.field3,B.field4  <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;left</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> A <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">right</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;right</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> B <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;</span>expression<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span></pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">右连接查询跟左连接查询类似，只是<span style=\"background-color: rgb(255, 255, 0);\">右连接是以右表为主表，会将右表所有数据查询出来，而左表则根据条件去匹配，如果左表没有满足条件的行，则左边默认显示NULL。</span>左右连接是可以互换的。</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> g_cat_id,  c.cat_id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> c_cat_id,c.cat_name <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> mingoods g <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">RIGHT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">JOIN</span> mincategory c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ON</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831143920452-1217908904.png\" alt=\"\" width=\"1003\" height=\"217\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>4、内连接查询 inner join ... on ...</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>语法：</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> A.field1,A.field2,.., B.field3, B.field4 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;left</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> A <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">inner</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;right</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> B <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;</span>expression<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span></pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">内连接查询，就是取左连接和右连接的交集，如果两边不能匹配条件，则都不取出。</span></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> g.goods_name,g.cat_id, c.<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">*</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> mingoods g <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">INNER</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">JOIN</span> mincategory c <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ON</span> g.cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> c.cat_id;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831144413312-798629863.png\" alt=\"\" width=\"947\" height=\"192\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>5、全连接查询 full join ... on ...</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>语法：</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> ... <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;left</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">full</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;right</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">table</span><span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;</span>expression<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span></pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">全连接会将两个表的所有数据查询出来，不满足条件的为NULL。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">全连接查询跟全相乘查询的区别在于，如果某个项不匹配，全相乘不会查出来，全连接会查出来，而连接的另一边则为NULL。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>6、联合查询 union</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>语法：</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> A.field1 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> f1, A.field2 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> f2 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;</span>table1<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> A <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">union</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> B.field3 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> f1, field4 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">as</span> f2 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&lt;</span>table2<span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">&gt;</span> B)</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">union是求两个查询的并集。union合并的是结果集，不区分来自于哪一张表，所以可以合并多张表查询出来的数据。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831144847702-892544721.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>6.1、将两张表的数据合并查询出来</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id, content, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> comment <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id, msg <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">AS</span> content, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> feedback);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145021812-1747065217.png\" alt=\"\" width=\"855\" height=\"238\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>6.2、union查询，列名不一致时，以第一条sql语句的列名对齐</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id, content, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> comment <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id, msg, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> feedback);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145148202-1865204275.png\" alt=\"\" width=\"809\" height=\"231\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\"><strong>6.3、使用union查询会将重复的行过滤掉</strong></span></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> content,<span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> comment <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> msg, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> feedback);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145358452-630940644.png\" alt=\"\" width=\"796\" height=\"631\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><span style=\"background-color: rgb(255, 255, 0);\">6.4、使用union all查询所有，重复的行不会被过滤</span></strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> content,<span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> comment <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ALL</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> msg, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> feedback);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145548483-1527047748.png\" alt=\"\" width=\"730\" height=\"213\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>6.5、union查询，如果列数不相等，会报列数不相等错误</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145717577-1648968.png\" alt=\"\" width=\"873\" height=\"97\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>6.6、union 后的结果集还可以再做筛选</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id,content,<span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> comment <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ALL</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id, msg, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> feedback) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span>; </pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831145827374-2070389214.png\" alt=\"\" width=\"876\" height=\"231\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(255, 0, 0);\">&nbsp; &nbsp; &nbsp; union查询时，order by放在内层sql中是不起作用的；因为union查出来的结果集再排序，内层的排序就没有意义了；因此，内层的order by排序，在执行期间，被mysql的代码分析器给优化掉了。</span></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id,content,<span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> comment <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span>) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ALL</span> (<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> id, msg, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">user</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> feedback <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> id <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span>);</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831150305593-704163301.png\" alt=\"\" width=\"944\" height=\"216\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"color: rgb(255, 0, 0);\">order by 如果和limit一起使用，就显得有意义了，就不会被优化掉。</span></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\">( <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_name,cat_id,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">3</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span> LIMIT <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">3</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\"> )</span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span><span style=\"font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">( </span><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> goods_name,cat_id,shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> goods <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">WHERE</span> cat_id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">4</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ORDER</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> shop_price <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">DESC</span> LIMIT <span style=\"color: rgb(128, 0, 0); font-weight: bold; font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">2</span> );</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831150514608-1713686275.png\" alt=\"\" width=\"891\" height=\"229\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;<strong>6.7、练习</strong></p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> name, <span style=\"color: rgb(255, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SUM</span>(<span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">money</span>) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> ( ( <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">*</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> A ) <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">UNION</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">ALL</span> ( <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">SELECT</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">*</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">FROM</span> B ) ) tmp <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">GROUP</span> <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">BY</span> name;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831150955546-637848976.png\" alt=\"\" width=\"623\" height=\"400\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2017.cnblogs.com/blog/249993/201708/249993-20170831151008749-703743588.png\" alt=\"\" width=\"948\" height=\"162\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>连接查询总结：</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">1、在数据库中，一张表就是一个集合，每一行就是集合中的一个元素。连接查询即是作笛卡尔积，比如A表有1W条数据，B表有1W条数据，那么两表查询就有 1W X 1W = 100W 条数据　</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">2、如果在两张表里有相同字段，做联合查询的时候，要区别表名，否则会报错误(ambiguous 模糊不清)</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">3、全相乘效率低，全相乘会在内存中生成一个非常大的数据(临时表)，因为有很多不必要的数据。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;如果一张表有10000条数据，另一张表有10000条数据，两表全相乘就是100W条数据，是非常消耗内存的。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">而且，全相乘不能好好的利用索引，因为全相乘生成一张临时表，临时表里是没有索引的，大大降低了查询效率。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">4、左连接查询时，以左表为主表，会将左表所有数据查询出来；左表不动，右表根据条件去一条条匹配，如果没有满足条件的记录，则右边返回NULL。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">右连接查询值，以右表为主表，会将右表所有数据查询出来，右表不动，左表则根据条件去匹配，如果左表没有满足条件的行，则左边返回NULL。　</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">左右连接是可以互换的：A left join B &nbsp;== &nbsp;B right join A (都是以A为主表) 。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">左右连接既然可以互换，出于移植兼容性方面的考虑，尽量使用左连接。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">5、连接查询时，虽说也是读取一行行记录，然后判断是否满足条件，但是，连接查询使用了索引，条件列建立了索引的话，查询速度非常快，所以整体效率相比于全相乘要快得多，全相乘是没有使用索引的。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">使用连接查询，查询速度快，消耗内存小，而且使用了索引。连接查询效率相比于全相乘的查询效率快了10+倍以上。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">6、内连接查询，就是取左连接和右连接的<strong>交集</strong>，如果两边不能匹配条件，则都不取出。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">7、MySql可以用union(联合查询)来查出左连接和右连接的<strong>并集</strong>。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">union查询会过滤重复的行，union all 不会过滤重复的行。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">union查询时，union之间的sql列数必须相等，列名以第一条sql的列为准；列类型可以不一样，但没太大意义。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">union查询时，order by放在内层sql中是不起作用的；因为union查出来的结果集再排序，内层的排序就没有意义了；因此，内层的order by排序，在执行期间，被mysql的代码分析器给优化掉了。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">&nbsp;但是，order by 如果和limit一起使用，就显得有意义了，会影响最终结果集，就不会被优化掉。order by会根据最终是否会影响结果集而选择性的优化。</p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">注：union和union all的区别，union会去掉重复的记录，在结果集合并后悔对新产生的结果集进行排序运算，效率稍低，union all直接合并结果集，如果确定没有重复记录，建议使用union all。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">8、 LEFT JOIN 是 LEFT OUTER JOIN 的缩写，同理，RIGHT JOIN 是 RIGHT OUTER JOIN 的缩写；JOIN 是 INNER JOIN 的缩写。</p><hr style=\"margin-top: 0px; margin-bottom: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>关联查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>1、使用join关键字关联查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>（1）、内连接（inner join）</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">连接两张表，连接条件使用on关键字，内连接只会显示匹配的数据记录。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">eg:查询学生姓名、科目、分数</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> student a <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">inner</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> score b <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> a.id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> b.sid;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170427161630615-917070098.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>（2）、左连接（left join）</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">返回左表中所有记录以及右表中符合连接条件的所有记录。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">eg:&nbsp;使用左连接查询学生姓名、科目、分数</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> student a <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">left</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> score b <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> a.id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> b.sid;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong><img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170427161656506-1882092639.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>（3）、右连接（right join）</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">返回右表中所有记录以及左表中符合连接条件的所有记录。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">eg:使用右连接查询学生姓名、科目、分数</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> student a <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">right</span> <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">join</span> score b <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">on</span> a.id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> b.sid;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170427161921381-1712894885.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><span style=\"background-color: rgb(255, 255, 0);\">注：内外连接区别：内连接只会显示匹配的数据记录，外连接例如左连接会把左边表中所有记录显示出来，即使在右边表中没有匹配记录也会显示左表的数据，右连接反之。</span></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><strong>2、使用表和表之间相同id关联查询</strong></p><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">这种关联方式和内连接一样，只会显示出匹配的数据</p><div class=\"cnblogs_code\" style=\"margin-top: 5px; margin-bottom: 5px; padding: 5px; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); overflow: auto; white-space: normal; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;\"><pre style=\"font-family: &quot;Courier New&quot; !important;\"><span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">select</span> a.name 姓名,b.subject 科目,b.score 分数 <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">from</span> student a,score b <span style=\"color: rgb(0, 0, 255); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">where</span> a.id <span style=\"color: rgb(128, 128, 128); font-family: &quot;Courier New&quot; !important; line-height: 1.5 !important;\">=</span> b.sid;</pre></div><p style=\"margin: 10px auto; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\"><img src=\"https://images2015.cnblogs.com/blog/249993/201704/249993-20170427164201553-439031078.png\" alt=\"\" style=\"border-width: 0px; border-style: initial; max-width: 820px; height: auto;\"/></p><p><br/></p>' , 'ZionCheung' , 1537758530 , 1 , 7 , '1,2,3,4,5') [ RunTime:0.001906s ]
---------------------------------------------------------------
[ 2018-09-24T11:08:52+08:00 ] 127.0.0.1 GET /zhangxxun/addarticle.html
[ info ] 127.0.0.1/zhangxxun/addarticle.html [运行时间：0.049456s][吞吐率：20.22req/s] [内存消耗：2,514.52kb] [文件加载：53]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'addArticle',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/addarticle.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->addArticle[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\article\addarticle.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'cate',
  4 => 'tags',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000765s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.006740s ]
[ sql ] [ SQL ] SELECT `id`,`tags_title`,`tags_color` FROM `zx_tags` [ RunTime:0.000368s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.006308s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `cate_article` = 1 [ RunTime:0.000510s ]
---------------------------------------------------------------
[ 2018-09-24T11:08:54+08:00 ] 127.0.0.1 GET /article/noisylife/1809124514d63b2.html
[ info ] 127.0.0.1/article/noisylife/1809124514d63b2.html [运行时间：0.077735s][吞吐率：12.86req/s] [内存消耗：2,580.62kb] [文件加载：53]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'details',
    2 => 'details',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'cate' => 'noisylife',
  'serial' => '1809124514d63b2',
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Details->details[ E:\www\zhangxxunblog\application\index\controller\Details.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/index\view\home\details.html [ array (
  0 => 'cate',
  1 => 'article',
  2 => 'tags',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010749s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.013702s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_link`,`cate_belong` FROM `zx_cate` ORDER BY `cate_sort` ASC [ RunTime:0.000463s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.007222s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_content`,`article_author`,`article_time`,`article_like`,`article_click`,`uid`,`lid` FROM `zx_article` WHERE  `id` = 2  AND `article_serial` = '1809124514d63b' LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.006425s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000388s ]
---------------------------------------------------------------
[ 2018-09-24T11:08:57+08:00 ] 127.0.0.1 GET /zhangxxun/article.html
[ info ] 127.0.0.1/zhangxxun/article.html [运行时间：0.102378s][吞吐率：9.77req/s] [内存消耗：2,781.02kb] [文件加载：59]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->article[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\article\article.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'article',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011931s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.007114s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `zx_article` WHERE  `article_recycle` = 0  AND ( `article_serial` LIKE '%%' OR `article_name` LIKE '%%' )  AND ( `article_time` >= 0 AND `article_time` <= 1537758537 )  AND `article_sign` LIKE 0  AND `cid` LIKE 0  AND `uid` LIKE 0 LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_author`,`article_time`,`article_like`,`article_click`,`article_sign`,`article_sort`,`uid`,`cid`,`lid`,`article_recycle`,`article_recycle_time` FROM `zx_article` WHERE  `article_recycle` = 0  AND ( `article_serial` LIKE '%%' OR `article_name` LIKE '%%' )  AND ( `article_time` >= 0 AND `article_time` <= 1537758537 )  AND `article_sign` LIKE 0  AND `cid` LIKE 0  AND `uid` LIKE 0 ORDER BY `article_sort` ASC LIMIT 0,8 [ RunTime:0.000583s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.007172s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.007134s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000832s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_admin_user` [ RunTime:0.007243s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000392s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000369s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000393s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000376s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000713s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `cate_article` = 1 [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT `id`,`ad_name` FROM `zx_admin_user` WHERE  `ad_sign` = 1 ORDER BY `id` ASC [ RunTime:0.000402s ]
---------------------------------------------------------------
[ 2018-09-24T11:09:03+08:00 ] 127.0.0.1 POST /zhangxxun/articleSign.html
[ info ] 127.0.0.1/zhangxxun/articleSign.html [运行时间：0.055268s][吞吐率：18.09req/s] [内存消耗：2,549.95kb] [文件加载：54]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'articleSign',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/article.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://127.0.0.1',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '4',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'id' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->articleSign[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010167s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.006845s ]
[ sql ] [ SQL ] SELECT * FROM `zx_article` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000924s ]
[ sql ] [ SQL ] UPDATE `zx_article`  SET `article_sign`=1  WHERE  `id` = 4 [ RunTime:0.000437s ]
---------------------------------------------------------------
[ 2018-09-24T11:09:05+08:00 ] 127.0.0.1 GET /zhangxxun/article.html
[ info ] 127.0.0.1/zhangxxun/article.html [运行时间：0.089630s][吞吐率：11.16req/s] [内存消耗：2,781.02kb] [文件加载：59]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/article.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Article->article[ E:\www\zhangxxunblog\application\admin\controller\Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\article\article.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'article',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011682s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.006697s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `zx_article` WHERE  `article_recycle` = 0  AND ( `article_serial` LIKE '%%' OR `article_name` LIKE '%%' )  AND ( `article_time` >= 0 AND `article_time` <= 1537758544 )  AND `article_sign` LIKE 0  AND `cid` LIKE 0  AND `uid` LIKE 0 LIMIT 1 [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_author`,`article_time`,`article_like`,`article_click`,`article_sign`,`article_sort`,`uid`,`cid`,`lid`,`article_recycle`,`article_recycle_time` FROM `zx_article` WHERE  `article_recycle` = 0  AND ( `article_serial` LIKE '%%' OR `article_name` LIKE '%%' )  AND ( `article_time` >= 0 AND `article_time` <= 1537758544 )  AND `article_sign` LIKE 0  AND `cid` LIKE 0  AND `uid` LIKE 0 ORDER BY `article_sort` ASC LIMIT 0,8 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.006583s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.006405s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000439s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_admin_user` [ RunTime:0.006657s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000397s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000373s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000377s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000384s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000378s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT * FROM `zx_cate` WHERE  `cate_article` = 1 [ RunTime:0.000368s ]
[ sql ] [ SQL ] SELECT `id`,`ad_name` FROM `zx_admin_user` WHERE  `ad_sign` = 1 ORDER BY `id` ASC [ RunTime:0.000341s ]
---------------------------------------------------------------
[ 2018-09-24T11:09:07+08:00 ] 127.0.0.1 GET /zhangxxun.html
[ info ] 127.0.0.1/zhangxxun.html [运行时间：0.054534s][吞吐率：18.34req/s] [内存消耗：2,439.38kb] [文件加载：52]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun/login.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Index->index[ E:\www\zhangxxunblog\application\admin\controller\Index.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\admin\index.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'user',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000819s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_admin_user` [ RunTime:0.016127s ]
[ sql ] [ SQL ] SELECT `ad_username`,`ad_headimg`,`ad_name`,`ad_password` FROM `zx_admin_user` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000434s ]
---------------------------------------------------------------
[ 2018-09-24T11:09:07+08:00 ] 127.0.0.1 GET /zhangxxun/home.html
[ info ] 127.0.0.1/zhangxxun/home.html [运行时间：0.030341s][吞吐率：32.96req/s] [内存消耗：1,480.95kb] [文件加载：42]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'home',
    2 => 'home',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/zhangxxun.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Home->home[ E:\www\zhangxxunblog\application\admin\controller\Home.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/admin\view\admin\home.html [ array (
  0 => 'userId',
  1 => 'username',
  2 => 'name',
  3 => 'homeInfo',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-09-24T11:09:09+08:00 ] 127.0.0.1 GET /
[ info ] 127.0.0.1/ [运行时间：0.080564s][吞吐率：12.41req/s] [内存消耗：2,610.70kb] [文件加载：53]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'index',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ E:\www\zhangxxunblog\application\index\controller\Index.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/index\view\home\index.html [ array (
  0 => 'cate',
  1 => 'article',
  2 => 'banner',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011623s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.007764s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_link`,`cate_belong` FROM `zx_cate` ORDER BY `cate_sort` ASC [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_banner` [ RunTime:0.007112s ]
[ sql ] [ SQL ] SELECT `banner_route`,`banner_link` FROM `zx_banner` WHERE  `cid` = 1  AND `banner_sign` = 1 ORDER BY `banner_sort` ASC [ RunTime:0.000430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.006927s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_content`,`article_time`,`article_like`,`article_click`,`cid` FROM `zx_article` WHERE  `article_sign` = 1 ORDER BY `article_time` ASC LIMIT 10 [ RunTime:0.001211s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_english_name` FROM `zx_cate` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000301s ]
---------------------------------------------------------------
[ 2018-09-24T11:09:17+08:00 ] 127.0.0.1 GET /article/other/18091108179c3e4.html
[ info ] 127.0.0.1/article/other/18091108179c3e4.html [运行时间：0.083092s][吞吐率：12.03req/s] [内存消耗：2,693.18kb] [文件加载：53]
[ info ] [ LANG ] E:\www\zhangxxunblog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'details',
    2 => 'details',
  ),
  'convert' => false,
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_b393d153aeb26b46e9431fabaf0f6190=1536064277,1536155519,1536392549,1536401673; PHPSESSID=0v6aroas7jpq8mit50mvarpok0',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://127.0.0.1/',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'close',
  'host' => '127.0.0.1',
)
[ info ] [ PARAM ] array (
  'cate' => 'other',
  'serial' => '18091108179c3e4',
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Details->details[ E:\www\zhangxxunblog\application\index\controller\Details.php ]
[ info ] [ VIEW ] E:\www\zhangxxunblog\public/../application/index\view\home\details.html [ array (
  0 => 'cate',
  1 => 'article',
  2 => 'tags',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000932s ] mysql:host=127.0.0.1;dbname=zxxblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_cate` [ RunTime:0.006660s ]
[ sql ] [ SQL ] SELECT `id`,`cate_name`,`cate_link`,`cate_belong` FROM `zx_cate` ORDER BY `cate_sort` ASC [ RunTime:0.000380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_article` [ RunTime:0.015266s ]
[ sql ] [ SQL ] SELECT `id`,`article_serial`,`article_name`,`article_cover`,`article_content`,`article_author`,`article_time`,`article_like`,`article_click`,`uid`,`lid` FROM `zx_article` WHERE  `id` = 4  AND `article_serial` = '18091108179c3e' LIMIT 1 [ RunTime:0.000944s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `zx_tags` [ RunTime:0.008308s ]
[ sql ] [ SQL ] SELECT * FROM `zx_tags` WHERE  `id` IN (1,2,3,4,5) [ RunTime:0.000405s ]
